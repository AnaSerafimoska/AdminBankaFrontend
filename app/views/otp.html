<section class="wrapper" >

  <ng-include src="'views/header.html'"></ng-include>
  <!-- Content Header (Page header) -->

  <div class="content-wrapper">
    <section class="content-header">
      <h1>
      Менаџирање на ОТП корисници
      <small> сите корисници </small>
      </h1>
    </section>
    <!-- Main content -->
    <section class="content">
     <div class="row ">
                <div class="col-lg-4">
                  <div class="input-group">
                    <div class="input-group-btn">
                      <button type="button"  class="btn btn-default dropdown-toggle "  data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" >{{valueForSearch}}<span class="caret"></span></button>

                      <ul class="dropdown-menu">
                      <li><a ng-click="changeValue(0)">Корисничко име</a></li>
                      <li><a  ng-click="changeValue(1)">UUID</a></li>
                      </ul>
                    </div>
                    <input placeholder="" ng-model="SearchValue"   type="text" class="form-control "   >
                   
                    <div class="input-group-btn">
                  <button type="button" class="btn btn-default" ng-click="searchRecord(SearchValue)" >Пребарај                    <i class="fa fa-search" data-title="Пребарај" ng-click="searchRecord(SearchValue)" data-placement="bottom"  data-trigger="focus"   ></i>
                </button>
                </div>
            <!--         <div class="input-group-addon " id="date" >


                    <i class="fa fa-search" data-title="Пребарај" ng-click="searchRecord(SearchValue)" data-placement="bottom"  data-trigger="focus"   ></i>
                    </div> -->
                  </div>

                </div>
            </div>
           <br/>


      <div class="row">
        <div class="col-xs-12">
          <div class="box box-success">
            <div class="box-header">
              <h3 class="box-title">Листа на активни корисници</h3>
              <div class="box-tools">
                <div class="input-group input-group-sm" style="width: 150px;">
                  <input type="text" name="table_search" class="form-control pull-right" placeholder="Пребарај" ng-model="searchBox">
                  <div class="input-group-btn">
                    <button type="submit" class="btn btn-default"><i class="fa fa-search"></i></button>
                  </div>
                </div>
              </div>
            </div>
            <!-- /.box-header -->
            <div class="box-body table-responsive no-padding">
              <table class="table table-hover">
                <tr>
                  <th class="text-center">ID</th>
                  <th class="text-center">Корисничко Име</th>
                  <th class="text-center">Модел</th>
                  <th class="text-center">UUID</th>
                  <th class="text-center">Број на грешки</th>
                  <th class="text-center">OS/APP</th>
                  <th class="text-center">Статус</th>
                  <th class="text-center">Почеток</th>
                  <th class="text-center">Активација</th>
                </tr>
          
                <tr dir-paginate=" user in allUsers | orderBy:sortKey:reverse | filter : searchBox | itemsPerPage:5 " pagination-id="paginate1" class="text-center">
                  <td ng-click="viewByUser(user.usernameField)">{{user.idField}}</td>
                  <td ng-click="viewByUser(user.usernameField)">{{user.usernameField}}</td>
                  <td ng-click="viewByUser(user.usernameField)">{{user.modelField}}</td>
                  <td>
                    <button class="btn btn-xs btn-primary" data-trigger="hover" data-type="success" data-title="кликнете тука за да пребарате по овој UUID" ng-click="viewByUUID(user.uUIDField )" bs-tooltip>
                    {{user.uUIDField}}
                    </button>
                  </td>
                  <td ng-click="viewByUser(user.usernameField)">{{user.numberOfFaultsField}}</td>
                  <td ng-click="viewByUser(user.usernameField)">{{user.oSVersionField}}/{{user.appVersionField}}</td>
                  <td ng-click="viewByUser(user.usernameField)"><span class="label label-success">{{user.statusField}}</span></td>
                  <td ng-click="viewByUser(user.usernameField)">{{user.initDateField | date}}</td>
                  <td ng-click="viewByUser(user.usernameField)">{{user.activateDateField | date}}</td>
                </tr>
              </table>
              <dir-pagination-controls pagination-id="paginate1" max-size="5" direction-links="true" boundary-links="true" ></dir-pagination-controls>
            </div>
            <!-- /.box-body -->
          </div>
          <!-- /.box -->
        </div>
      </div>

            <div class="row" ng-show="showhistory">
        <div class="col-xs-12">
          <div class="box box-success">
            <div class="box-header">
              <h3 class="box-title" ng-show="labelUsername" >Историја за корисник</h3>
              <h3 class="box-title" ng-show="!labelUsername" >Историја за уред</h3>
              <div class="box-tools">
                <div class="input-group input-group-sm" style="width: 150px;">
                  <input type="text" name="table_search" class="form-control pull-right" placeholder="Пребарај" ng-model="searchBox">
                  <div class="input-group-btn">
                    <button type="submit" class="btn btn-default"><i class="fa fa-search"></i></button>
                  </div>
                </div>
              </div>
            </div>
            <!-- /.box-header -->
            <div class="box-body table-responsive no-padding">
              <table class="table table-hover">
                <tr>
                  <th class="text-center">ID</th>
                  <th class="text-center">Корисничко Име</th>
                  <th class="text-center">Модел</th>
                  <th class="text-center">UUID</th>
                  <th class="text-center">Број на грешки</th>
                  <th class="text-center">OS/APP</th>
                  <th class="text-center">Статус</th>
                  <th class="text-center">Почеток</th>
                  <th class="text-center">Активација</th>
                </tr>
          
                <tr dir-paginate=" user in DeviceLog | orderBy:sortKey:reverse | filter : searchBox | itemsPerPage:5 " pagination-id="paginate2" class="text-center">
                  <td ng-click="viewByUser(user.usernameField)">{{user.idField}}</td>
                  <td ng-click="viewByUser(user.usernameField)">{{user.usernameField}}</td>
                  <td ng-click="viewByUser(user.usernameField)">{{user.modelField}}</td>
                  <td>
                    <button class="btn btn-xs btn-primary" data-trigger="hover" data-type="success" data-title="кликнете тука за да пребарате по овој UUID" ng-click="viewByUUID(user.uUIDField )" bs-tooltip>
                    {{user.uUIDField}}
                    </button>
                  </td>
                  <td ng-click="viewByUser(user.usernameField)">{{user.numberOfFaultsField}}</td>
                  <td ng-click="viewByUser(user.usernameField)">{{user.oSVersionField}}/{{user.appVersionField}}</td>
                  <td ng-click="viewByUser(user.usernameField)"><span class="label label-success">{{user.statusField}}</span></td>
                  <td ng-click="viewByUser(user.usernameField)">{{user.initDateField | date}}</td>
                  <td ng-click="viewByUser(user.usernameField)">{{user.activateDateField | date}}</td>
                </tr>
              </table>
              <dir-pagination-controls pagination-id="paginate2" max-size="5" direction-links="true" boundary-links="true" ></dir-pagination-controls>
            </div>
            <!-- /.box-body -->
          </div>
          <!-- /.box -->
        </div>
      </div>
      </section><!-- /.content -->
    </div>
  <ng-include src="'views/footer.html'"></ng-include>
</section>